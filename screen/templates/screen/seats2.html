{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screen</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="{% static 'screen/styles.css' %}" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>

<body class="bodyseats-2">
<div class="inforow">
<div class="infodiv-2">
Screen
<p> Movie name: {{ movie_name }}<br>
City: {{ city_name }}<br>
Cinema hall: {{ cinema_hall.name }}<br>
Show timings: {{ show.timings }}<br>
Date: {{ show.date }} <br>
</p>


</div>
<div class="S-book-button2">
            Book Now
        </div>
</div>


<div class="block">

<div class="S-row">
    <div class="seat">E1 <br> ₹240</div>
    <div class="seat">E2 <br> ₹240</div>
    <div class="seat">E3 <br> ₹240</div>
    <div class="seat">E4 <br> ₹240</div>
    <div class="seat">E5 <br> ₹240</div>
    <div class="seat">E6 <br> ₹240</div>
    <div class="seat">E7 <br> ₹240</div>
    <div class="seat">E8 <br> ₹240</div>
    <div class="seat">E9 <br> ₹240</div>
    <div class="seat">E10 <br> ₹240</div>
    <div class="seat">E11 <br> ₹240</div>
    <div class="seat">E12 <br> ₹240</div>
    <div class="seat">E13 <br> ₹240</div>
    <div class="seat">E14 <br> ₹240</div>
    <div class="seat">E15 <br> ₹240</div>
    <div class="seat">E16 <br> ₹240</div>
    <div class="seat">E17 <br> ₹240</div>
    <div class="seat">E18 <br> ₹240</div>
    <div class="seat">E19 <br> ₹240</div>
    <div class="seat">E20 <br> ₹240</div>
</div>
<div class="S-row">
    <div class="seat">D1 <br> ₹150</div>
    <div class="seat">D2 <br> ₹150</div>
    <div class="seat">D3 <br> ₹150</div>
    <div class="seat">D4 <br> ₹150</div>
    <div class="seat">D5 <br> ₹150</div>
    <div class="seat">D6 <br> ₹150</div>
    <div class="seat">D7 <br> ₹150</div>
    <div class="seat">D8 <br> ₹150</div>
    <div class="seat">D9 <br> ₹150</div>
    <div class="seat">D10 <br> ₹150</div>
    <div class="seat">D11 <br> ₹150</div>
    <div class="seat">D12 <br> ₹150</div>
    <div class="seat">D13 <br> ₹150</div>
    <div class="seat">D14 <br> ₹150</div>
    <div class="seat">D15 <br> ₹150</div>
    <div class="seat">D16 <br> ₹150</div>
    <div class="seat">D17 <br> ₹150</div>
    <div class="seat">D18 <br> ₹150</div>
    <div class="seat">D19 <br> ₹150</div>
    <div class="seat">D20 <br> ₹150</div>
</div>

<div class="S-row">
    <div class="seat">C1 <br> ₹150</div>
    <div class="seat">C2 <br> ₹150</div>
    <div class="seat">C3 <br> ₹150</div>
    <div class="seat">C4 <br> ₹150</div>
    <div class="seat">C5 <br> ₹150</div>
    <div class="seat">C6 <br> ₹150</div>
    <div class="seat">C7 <br> ₹150</div>
    <div class="seat">C8 <br> ₹150</div>
    <div class="seat">C9 <br> ₹150</div>
    <div class="seat">C10 <br> ₹150</div>
    <div class="seat">C11 <br> ₹150</div>
    <div class="seat">C12 <br> ₹150</div>
    <div class="seat">C13 <br> ₹150</div>
    <div class="seat">C14 <br> ₹150</div>
    <div class="seat">C15 <br> ₹150</div>
    <div class="seat">C16 <br> ₹150</div>
    <div class="seat">C17 <br> ₹150</div>
    <div class="seat">C18 <br> ₹150</div>
    <div class="seat">C19 <br> ₹150</div>
    <div class="seat">C20 <br> ₹150</div>
</div>
<div class="S-row">
  <div class="seat">B1 <br> ₹150</div>
   <div class="seat">B2 <br> ₹150</div>
   <div class="seat">B3 <br> ₹150</div>
   <div class="seat">B4 <br> ₹150</div>
   <div class="seat">B5 <br> ₹150</div>
    <div class="seat">B6 <br> ₹150</div>
    <div class="seat">B7 <br> ₹150</div>
     <div class="seat">B8 <br> ₹150</div>
    <div class="seat">B9 <br> ₹150</div>
    <div class="seat">B10 <br> ₹150</div>
    <div class="seat">B11 <br> ₹150</div>
    <div class="seat">B12 <br> ₹150</div>
    <div class="seat">B13 <br> ₹150</div>
    <div class="seat">B14 <br> ₹150</div>
     <div class="seat">B15<br> ₹150</div>
     <div class="seat">B16 <br> ₹150</div>
    <div class="seat">B17<br> ₹150</div>
     <div class="seat">B18 <br> ₹150</div>
    <div class="seat">B19 <br> ₹150</div>
    <div class="seat">B20 <br> ₹150</div>
</div>
<div class="S-row">
  <div class="seat">A1 <br> ₹150</div>
   <div class="seat">A2 <br> ₹150</div>
   <div class="seat">A3 <br> ₹150</div>
   <div class="seat">A4 <br> ₹150</div>
   <div class="seat">A5 <br> ₹150</div>
    <div class="seat">A6 <br> ₹150</div>
    <div class="seat">A7 <br> ₹150</div>
     <div class="seat">A8 <br> ₹150</div>
    <div class="seat">A9 <br> ₹150</div>
    <div class="seat">A10 <br> ₹150</div>
    <div class="seat">A11 <br> ₹150</div>
    <div class="seat">A12 <br> ₹150</div>
    <div class="seat">A13 <br> ₹150</div>
    <div class="seat">A14 <br> ₹150</div>
     <div class="seat">A15<br> ₹150</div>
     <div class="seat">A16 <br> ₹150</div>
    <div class="seat">A17<br> ₹150</div>
     <div class="seat">A18 <br> ₹150</div>
    <div class="seat">A19 <br> ₹150</div>
    <div class="seat">A20 <br> ₹150</div>
</div>
 

 

<div class="line2">
</div>
<div class="text2">
    Screen this way 
</div>

</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    // Replace seat prices dynamically
    $('.seat').each(function() {
        const seatText = $(this).html(); // Get the HTML content of the seat element
        const seatLabel = seatText.split('<br>')[0]; // Extract the seat label
        const seatPrice = parseInt(seatText.split('₹')[1]); // Extract the price from the HTML content

        // Find the corresponding price range from the model
        let newPrice;
        if (seatPrice === 150) {
            newPrice = '{{ show.minP|stringformat:".0f" }}'; // Replace with the minP value from the context
        } else if (seatPrice === 240) {
            newPrice = '{{ show.maxP|stringformat:".0f" }}'; // Replace with the avgP value from the context
        } else {
            newPrice = seatPrice; // Keep the original price if it doesn't match any condition
        }

        // Update the seat element with the new price
        $(this).html(`${seatLabel}<br>₹${newPrice}`);
    });
});





 document.addEventListener("DOMContentLoaded", function() {
        const seats = document.querySelectorAll('.seat');
        const bookButton = document.querySelector('.S-book-button2');

        seats.forEach(seat => {
            seat.addEventListener('click', function() {
                this.classList.toggle('selected');
                updateBookButtonVisibility();
            });
        });

        function updateBookButtonVisibility() {
            const selectedSeats = document.querySelectorAll('.seat.selected');
            if (selectedSeats.length > 0) {
                bookButton.style.display = 'block';
            } else {
                bookButton.style.display = 'none';
            }
        }
    });
</script>
</body>
</html>